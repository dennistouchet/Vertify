<template name="details">
  <section class="right_col" role="main" style="height:900px;">
    {{#with vertify_object}}
      <div class="row">
        <h1 class="page_title">Fix / {{name}}</h1>
        <div id="addErrAlign" class="alert alert-danger" style="display:none;"></div>
      </div>
      <div class="row" style="padding-left:20px; padding-right:20px; padding-bottom:10px;">
        <h5>
        {{total}} matched records are Vertified (all aligned fields have the same values).<br/>
        {{aligned}} matched records have issues (one or more aligned fields have different values).<br/>
        {{unmatchedRecords}} records are unmatched (missing in one or more systems).<br/>
      </h5>
      </div>
      {{>detailsResults}}
    {{else}}
      <div class="row">
        <h1>Whoops!</h1><br/>
        <h4>Looks like something went wrong, trying refreshing the page.</h4>
      </div>
    {{/with}}

  </section>
</template>

<template name="detailsResults">
  <div class="row">
    <div class="col-md-12">
    <h3>Details Results</h3>
      <div class="x_panel" style="padding:10px;">
        <div class="row" style="border-bottom: solid 1px #e6e6e6;padding:10px;">
          <div class="col-md-3">Records</div>
          <div class="col-md-2">Total</div>
          <div class="col-md-2">Matched</div>
          <div class="col-md-2">Duplicates</div>
          <div class="col-md-2">Not Matched</div>
          <div class="col-md-1"></div>
        </div>
          <div class="row" style="border-bottom: solid 1px #e6e6e6;padding:10px;">
            <div class="col-md-3" style="border-right: solid 1px #e6e6e6;">{{name}}</div>
            <div class="col-md-2">{{getTotal}}</div>
            <div class="col-md-2">{{getMatched}}</div>
            <div class="col-md-2">{{getDuplicates}}</div>
            <div class="col-md-2">{{getUnmatched}}</div>
            <div class="col-md-1"></div>
          </div>
          {{#each external_objects}}
            <div class="row" style="padding:10px;">
              <div class="col-md-3" style="border-right: solid 1px #e6e6e6;">{{getExternalObjectName external_object_id}}</div>
              <div class="col-md-2">{{getTotal}}</div>
              <div class="col-md-2">{{getMatched}}</div>
              <div class="col-md-2">{{getDuplicates}}</div>
              <div class="col-md-2">{{getUnmatched}}</div>
              <div class="col-md-1"></div>
            </div>
          {{/each}}
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <button class="btn btn-primary returnToList" type=button style="margin-top:10px;margin-bottom:10px;margin-left:50px;">
        <i class="glyphicon glyphicon-arrow-left"></i>
        Return to List
      </button>
    </div>
    <div class="col-md-3">

    </div>
    <div class="col-md-3">
      <button class="btn btn-primary" type=button style="margin-top:10px;margin-bottom:10px;">
        <i class="glyphicon glyphicon-wrench"></i>
        Fix Records with Issues
      </button>
    </div>
    <div class="col-md-3">
      <button class="btn btn-primary fixUnmatched" type=button style="margin-top:10px;margin-bottom:10px;">
        <i class="glyphicon glyphicon-wrench"></i>
        Fix Unmatched Records
      </button>
    </div>
  </div>
</template>
